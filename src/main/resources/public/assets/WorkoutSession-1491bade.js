import{r as n,a6 as J,o as K,a7 as j,d as G,a8 as Q,c as f,w as t,u as e,b as d,e as l,I as S,f as R,g as o,h as F,H as U,J as Y,K as z,q as g,P as W,s as A,a9 as X,x as M,m as $,n as H,p as q,t as I,M as L,i as m,z as Z,B as ee,C as te}from"./index-e05d4bb7.js";import{d as le,u as oe}from"./workouts-54ba8132.js";function ae(){const p=n([]),r=n(-1),y=J(),v=n(!1),h=n(!1),c=n(0),b=n(0),P=n(!1),_=n(!1),k=n(!1),T=n(),x=n(!1),C=n(0),E=n(!0),B=n(0),N=async()=>{const{id:i}=y.params;if(i)try{p.value=await le(Number(i))}catch(w){console.log(w)}};K(N);const O=()=>{E.value=!1,j.push("/tabs/workouts")},u=i=>{k.value=i},V=()=>{var i;B.value++,B.value>1&&a((i=p.value[r.value].workout)==null?void 0:i.id,p.value[r.value].id),v.value=!0,r.value++,_.value=!1,P.value=!1,r.value<=p.value.length-1?(x.value=!1,clearInterval(T.value),s()):(v.value=!1,h.value=!0,_.value=!1,N())},s=async()=>{const i=p.value[r.value];if(i){const w=i.exerciseTime||0;c.value=w,b.value=w,T.value=setInterval(()=>{c.value>0?k.value||c.value--:(_.value=!0,x.value=!0)},1e3)}},a=async(i,w)=>{let D={id:w,reps:C.value};await oe(D,i)};return{currentExercises:p,workoutStarted:v,workoutEnded:h,currentExerciseIndex:r,countdown:c,totalExerciseTime:b,showNextExerciseBtn:_,workoutPaused:k,showRepInputField:x,reps:C,finishModalOpen:E,endWorkout:O,pauseWorkout:u,showNextExercise:V,listAllExercisesForWorkout:N,updateExerciseWithReps:a}}const se={slot:"label"},ue=["src"],ne=m("b",null,"Time:",-1),re=m("b",null,"Reps:",-1),ce=G({__name:"WorkoutSession",setup(p){const{currentExercises:r,workoutStarted:y,workoutEnded:v,finishModalOpen:h,currentExerciseIndex:c,countdown:b,totalExerciseTime:P,workoutPaused:_,showNextExerciseBtn:k,showRepInputField:T,reps:x,showNextExercise:C,pauseWorkout:E,endWorkout:B,updateExerciseWithReps:N}=ae();return(O,u)=>{const V=Q("ion-text");return d(),f(e(te),null,{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[o("Workout Session")]),_:1})]),_:1})]),_:1}),l(e(M),{fullscreen:!0,class:"ion-padding"},{default:t(()=>[l(e(R),null,{default:t(()=>[o("Have fun with your workout!")]),_:1}),(d(!0),U(z,null,Y(e(r),s=>(d(),f(e($),{key:s.id},{default:t(()=>[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var a;return[o("Exercise - "+I((a=s.exerciseInfo)==null?void 0:a.name),1)]}),_:2},1024)]),_:2},1024),l(e(L),null,{default:t(()=>[o("Time "+I(s.exerciseTime)+"s ",1)]),_:2},1024)]),_:2},1024))),128)),!e(y)&&!e(v)?(d(),f(e(g),{key:0,onClick:u[0]||(u[0]=s=>e(C)())},{default:t(()=>[o("Begin Workout")]),_:1})):W("",!0),l(e(A),{"is-open":e(y)&&!e(v)},{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[o("Current Exercise")]),_:1}),l(e(X),{value:e(b)/e(P),type:"determinate"},null,8,["value"])]),_:1})]),_:1}),l(e(M),{class:"ion-padding"},{default:t(()=>[e(c)>=0&&e(c)<e(r).length?(d(),f(e($),{key:0},{default:t(()=>{var s;return[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var a;return[o(I((a=e(r)[e(c)].exerciseInfo)==null?void 0:a.name),1)]}),_:1})]),_:1}),l(e(L),null,{default:t(()=>[m("div",null,[!e(_)&&!e(k)?(d(),f(e(g),{key:0,onClick:u[1]||(u[1]=a=>e(E)(!0))},{default:t(()=>[o("Pause Workout")]),_:1})):e(_)&&!e(k)?(d(),f(e(g),{key:1,onClick:u[2]||(u[2]=a=>e(E)(!1))},{default:t(()=>[o("Continiue Workout")]),_:1})):W("",!0),e(k)?(d(),f(e(g),{key:2,onClick:u[3]||(u[3]=a=>e(C)())},{default:t(()=>[o("Next Exercise")]),_:1})):W("",!0),e(T)?(d(),f(e(Z),{key:3,labelPlacement:"floating",modelValue:e(x),"onUpdate:modelValue":u[4]||(u[4]=a=>ee(x)?x.value=a:null)},{default:t(()=>[m("div",se,[o("Reps "),l(V,{color:"danger"},{default:t(()=>[o("(Required)")]),_:1})])]),_:1},8,["modelValue"])):W("",!0)])]),_:1}),m("iframe",{width:"560",height:"315",src:(s=e(r)[e(c)].exerciseInfo)==null?void 0:s.youtubeLink,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,ue)]}),_:1})):W("",!0)]),_:1})]),_:1},8,["is-open"]),l(e(A),{"is-open":!e(y)&&e(v)&&e(h)},{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[o("Congratulations! You finished your Workout!")]),_:1})]),_:1})]),_:1}),l(e(M),{class:"ion-padding"},{default:t(()=>[(d(!0),U(z,null,Y(e(r),s=>(d(),f(e($),{key:s.id},{default:t(()=>[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var a;return[o(I((a=s.exerciseInfo)==null?void 0:a.name),1)]}),_:2},1024)]),_:2},1024),l(e(L),null,{default:t(()=>[m("p",null,[ne,o(" "+I(s.exerciseTime)+"s",1)]),m("p",null,[re,o(" "+I(s.reps),1)])]),_:2},1024)]),_:2},1024))),128)),l(e(g),{onClick:u[5]||(u[5]=s=>e(B)())},{default:t(()=>[o("End Workout")]),_:1})]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1})}}});export{ce as default};
