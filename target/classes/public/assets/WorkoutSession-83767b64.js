import{r as n,a6 as J,o as K,a7 as j,d as G,a8 as Q,c as f,w as t,u as e,b as d,e as l,I as S,f as R,g as a,h as F,H as U,J as Y,K as z,q as g,P as W,s as A,a9 as X,x as M,m as $,n as H,p as q,t as y,M as L,i as m,z as Z,B as ee,C as te}from"./index-a9502547.js";import{d as le,u as ae}from"./workouts-9067b9cc.js";function oe(){const v=n([]),r=n(-1),C=J(),p=n(!1),h=n(!1),c=n(0),b=n(0),P=n(!1),_=n(!1),k=n(!1),T=n(),x=n(!1),w=n(0),E=n(!0),B=n(0),N=async()=>{const{id:i}=C.params;if(i)try{v.value=await le(Number(i))}catch(I){console.log(I)}};K(N);const O=()=>{E.value=!1,j.push("/tabs/workouts")},s=i=>{k.value=i},V=async()=>{var i;if(B.value++,B.value>1&&(await o((i=v.value[r.value].workout)==null?void 0:i.id,v.value[r.value].id),w.value=0),p.value=!0,r.value++,_.value=!1,P.value=!1,r.value<=v.value.length-1)x.value=!1,clearInterval(T.value),u();else{await N(),p.value=!1,h.value=!0,_.value=!1;return}},u=async()=>{const i=v.value[r.value];if(i){const I=i.exerciseTime||0;c.value=I,b.value=I,T.value=setInterval(()=>{c.value>0?k.value||c.value--:(_.value=!0,x.value=!0)},1e3)}},o=async(i,I)=>{let D={id:I,reps:w.value};await ae(D,i)};return{currentExercises:v,workoutStarted:p,workoutEnded:h,currentExerciseIndex:r,countdown:c,totalExerciseTime:b,showNextExerciseBtn:_,workoutPaused:k,showRepInputField:x,reps:w,finishModalOpen:E,endWorkout:O,pauseWorkout:s,showNextExercise:V,listAllExercisesForWorkout:N,updateExerciseWithReps:o}}const ue={slot:"label"},se=["src"],ne=m("b",null,"Time:",-1),re=m("b",null,"Reps:",-1),ce=G({__name:"WorkoutSession",setup(v){const{currentExercises:r,workoutStarted:C,workoutEnded:p,finishModalOpen:h,currentExerciseIndex:c,countdown:b,totalExerciseTime:P,workoutPaused:_,showNextExerciseBtn:k,showRepInputField:T,reps:x,showNextExercise:w,pauseWorkout:E,endWorkout:B,updateExerciseWithReps:N}=oe();return(O,s)=>{const V=Q("ion-text");return d(),f(e(te),null,{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[a("Workout Session")]),_:1})]),_:1})]),_:1}),l(e(M),{fullscreen:!0,class:"ion-padding"},{default:t(()=>[l(e(R),null,{default:t(()=>[a("Have fun with your workout!")]),_:1}),(d(!0),U(z,null,Y(e(r),u=>(d(),f(e($),{key:u.id},{default:t(()=>[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var o;return[a("Exercise - "+y((o=u.exerciseInfo)==null?void 0:o.name),1)]}),_:2},1024)]),_:2},1024),l(e(L),null,{default:t(()=>[a("Time "+y(u.exerciseTime)+"s ",1)]),_:2},1024)]),_:2},1024))),128)),!e(C)&&!e(p)?(d(),f(e(g),{key:0,onClick:s[0]||(s[0]=u=>e(w)())},{default:t(()=>[a("Begin Workout")]),_:1})):W("",!0),l(e(A),{"is-open":e(C)&&!e(p)},{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[a("Current Exercise")]),_:1}),l(e(X),{value:e(b)/e(P),type:"determinate"},null,8,["value"])]),_:1})]),_:1}),l(e(M),{class:"ion-padding"},{default:t(()=>[e(c)>=0&&e(c)<e(r).length?(d(),f(e($),{key:0},{default:t(()=>{var u;return[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var o;return[a(y((o=e(r)[e(c)].exerciseInfo)==null?void 0:o.name),1)]}),_:1})]),_:1}),l(e(L),null,{default:t(()=>[m("div",null,[!e(_)&&!e(k)?(d(),f(e(g),{key:0,onClick:s[1]||(s[1]=o=>e(E)(!0))},{default:t(()=>[a("Pause Workout")]),_:1})):e(_)&&!e(k)?(d(),f(e(g),{key:1,onClick:s[2]||(s[2]=o=>e(E)(!1))},{default:t(()=>[a("Continiue Workout")]),_:1})):W("",!0),e(k)&&!e(p)?(d(),f(e(g),{key:2,onClick:s[3]||(s[3]=o=>e(w)())},{default:t(()=>[a("Next Exercise")]),_:1})):W("",!0),e(T)?(d(),f(e(Z),{key:3,labelPlacement:"floating",modelValue:e(x),"onUpdate:modelValue":s[4]||(s[4]=o=>ee(x)?x.value=o:null)},{default:t(()=>[m("div",ue,[a("Reps "),l(V,{color:"danger"},{default:t(()=>[a("(Required)")]),_:1})])]),_:1},8,["modelValue"])):W("",!0)])]),_:1}),m("iframe",{width:"100%",height:"315",src:(u=e(r)[e(c)].exerciseInfo)==null?void 0:u.youtubeLink,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,8,se)]}),_:1})):W("",!0)]),_:1})]),_:1},8,["is-open"]),l(e(A),{"is-open":!e(C)&&e(p)&&e(h)},{default:t(()=>[l(e(F),null,{default:t(()=>[l(e(S),null,{default:t(()=>[l(e(R),null,{default:t(()=>[a("Congratulations! You finished your Workout!")]),_:1})]),_:1})]),_:1}),l(e(M),{class:"ion-padding"},{default:t(()=>[(d(!0),U(z,null,Y(e(r),u=>(d(),f(e($),{key:u.id},{default:t(()=>[l(e(H),null,{default:t(()=>[l(e(q),null,{default:t(()=>{var o;return[a(y((o=u.exerciseInfo)==null?void 0:o.name),1)]}),_:2},1024)]),_:2},1024),l(e(L),null,{default:t(()=>[m("p",null,[ne,a(" "+y(u.exerciseTime)+"s",1)]),m("p",null,[re,a(" "+y(u.reps),1)])]),_:2},1024)]),_:2},1024))),128)),l(e(g),{onClick:s[5]||(s[5]=u=>e(B)())},{default:t(()=>[a("End Workout")]),_:1})]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1})}}});export{ce as default};
